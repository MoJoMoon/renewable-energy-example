<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Example Renewable Energy Self Paced Course</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0c2340 0%, #1e4a72 50%, #2d6da3 100%);
            color: white;
            line-height: 1.6;
            min-height: 100vh;
        }

        .course-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .course-header {
            text-align: center;
            margin-bottom: 40px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 30px;
            border: 2px solid rgba(45, 109, 163, 0.5);
        }

        .course-header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #87ceeb;
            text-shadow: 0 0 20px rgba(135, 206, 235, 0.5);
        }

        .course-subtitle {
            font-size: 1.2em;
            color: #b8c6db;
            margin-bottom: 20px;
        }

        .navigation-header {
            background: rgba(0,0,0,0.4);
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
            border-radius: 15px;
            border: 2px solid rgba(135, 206, 235, 0.3);
        }

        .navigation-header p {
            margin-bottom: 15px;
            color: #b8c6db;
        }

        .navigation-header a {
            color: #87ceeb;
            text-decoration: none;
        }

        .course-options {
            margin: 20px 0;
        }

        .nav-control-btn, .demo-button {
            background: linear-gradient(45deg, #4a90e2, #87ceeb);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(74, 144, 226, 0.3);
            margin: 0 5px;
            text-decoration: none;
            display: inline-block;
        }

        .nav-control-btn:hover, .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(74, 144, 226, 0.4);
        }

        .course-progress {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            height: 8px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #4a90e2, #87ceeb);
            height: 100%;
            transition: width 0.3s ease;
            border-radius: 10px;
        }

        .progress-overview {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .progress-module {
            background: rgba(74, 144, 226, 0.2);
            border: 2px solid #4a90e2;
            border-radius: 10px;
            padding: 10px 15px;
            text-align: center;
            min-width: 120px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .progress-module:hover {
            background: rgba(74, 144, 226, 0.4);
            transform: translateY(-2px);
        }

        .progress-module.completed {
            background: rgba(46, 204, 113, 0.3);
            border-color: #2ecc71;
        }

        .progress-module.current {
            background: rgba(226, 74, 144, 0.3);
            border-color: #e24a90;
        }

        .module-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .module-btn {
            background: linear-gradient(45deg, #2d6da3, #4a90e2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(74, 144, 226, 0.3);
            font-size: 14px;
        }

        .module-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(74, 144, 226, 0.4);
        }

        .module-btn.active {
            background: linear-gradient(45deg, #e24a90, #eb87ce);
            box-shadow: 0 4px 15px rgba(226, 74, 144, 0.4);
        }

        .course-module {
            display: none;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            border: 1px solid rgba(135, 206, 235, 0.3);
            animation: fadeIn 0.5s ease-in;
        }

        .course-module.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .module-title {
            color: #87ceeb;
            font-size: 2.5em;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 0 10px rgba(135, 206, 235, 0.3);
        }

        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 20px 0;
        }

        .content-card {
            background: rgba(45, 109, 163, 0.2);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #4a90e2;
            transition: transform 0.3s ease;
        }

        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .content-card h3 {
            color: #87ceeb;
            margin-top: 0;
            font-size: 1.3em;
        }

        .highlight-box {
            background: linear-gradient(135deg, rgba(226, 74, 144, 0.2), rgba(235, 135, 206, 0.2));
            border: 2px solid rgba(226, 74, 144, 0.5);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .ai-highlight {
            background: linear-gradient(135deg, rgba(74, 144, 226, 0.2), rgba(135, 206, 235, 0.2));
            border: 2px solid rgba(74, 144, 226, 0.5);
        }

        .simulation-container {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            border: 2px solid #4a90e2;
        }

        .simulation-container canvas {
            border: 2px solid #4a90e2;
            border-radius: 10px;
            background: radial-gradient(circle at center, #001122 0%, #000811 100%);
            display: block;
            margin: 15px auto;
        }

        .demo-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .course-info {
            background: rgba(135, 206, 235, 0.1);
            border: 2px solid rgba(135, 206, 235, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }

        .course-info h3 {
            color: #87ceeb;
            margin-bottom: 15px;
        }

        .module-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .module-card {
            background: rgba(45, 109, 163, 0.2);
            border: 2px solid #4a90e2;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .module-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(74, 144, 226, 0.3);
            background: rgba(45, 109, 163, 0.3);
        }

        .module-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .module-card h3 {
            color: #87ceeb;
            margin-bottom: 10px;
        }

        .completion-status {
            margin-top: 15px;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
        }

        .status-not-started {
            background: rgba(108, 117, 125, 0.3);
            color: #6c757d;
        }

        .prompt-box {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            text-align: left;
            font-family: monospace;
            font-size: 0.9em;
        }

        .offline-ready {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(40, 167, 69, 0.9);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 12px;
            z-index: 1000;
        }

        @media (max-width: 768px) {
            .course-header h1 {
                font-size: 2em;
            }
            
            .module-selector, .demo-controls {
                gap: 8px;
            }
            
            .module-btn, .demo-button {
                padding: 8px 15px;
                font-size: 12px;
            }
            
            .content-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="offline-ready">📱 Works Offline</div>
    
    <div class="course-container">
        <!-- Navigation Header -->
        <div class="navigation-header">
            <p>📚 This detailed lesson is part of the <a href="index.html">Complete Renewable Energy Course</a></p>
            <div>
                <a href="index.html" class="demo-button">🏠 Back to Full Course</a>
                <a href="https://github.com/mojomoon/renewable-energy-example" class="demo-button" target="_blank">📁 View Repository</a>
                <button class="demo-button" onclick="window.print()">🖨️ Print Version</button>
            </div>
        </div>

        <!-- Course Header -->
        <div class="course-header">
            <h1>🌱 Example Renewable Energy Self Paced Course</h1>
            <div class="course-subtitle">Complete Self-Paced Learning Platform</div>
            <p style="margin-top: 15px; color: #b8c6db;">🤖 <em>Enhanced with AI-powered learning activities</em></p>
            
            <div class="course-options">
                <a href="tidal-energy-standalone.html" class="nav-control-btn" target="_blank">
                    🌊 Open Detailed Tidal Energy Lesson
                </a>
                <a href="https://github.com/mojomoon/renewable-energy-example" class="nav-control-btn" target="_blank">
                    📁 View Repository
                </a>
                <p style="font-size: 0.9em; color: #b8c6db; margin-top: 10px;">
                    Access individual modules or download for offline use
                </p>
            </div>
            
            <div class="course-progress">
                <div class="progress-fill" id="overallProgress" style="width: 20%"></div>
            </div>
            
            <div class="progress-overview">
                <div class="progress-module current" onclick="showModule('overview')">
                    <div>🏠 Overview</div>
                    <small>Current</small>
                </div>
                <div class="progress-module" onclick="showModule('tidal')">
                    <div>🌊 Tidal Energy</div>
                    <small>0/5 Complete</small>
                </div>
                <div class="progress-module" onclick="showModule('wind')">
                    <div>💨 Wind Power</div>
                    <small>Coming Soon</small>
                </div>
                <div class="progress-module" onclick="showModule('solar')">
                    <div>☀️ Solar Energy</div>
                    <small>Coming Soon</small>
                </div>
                <div class="progress-module" onclick="showModule('hydro')">
                    <div>⚡ Hydroelectric</div>
                    <small>Coming Soon</small>
                </div>
                <div class="progress-module" onclick="showModule('ai-tools')">
                    <div>🤖 AI Tools</div>
                    <small>0/4 Complete</small>
                </div>
            </div>
        </div>

        <!-- Course Overview Module -->
        <div id="overview-module" class="course-module active">
            <h2 class="module-title">🏠 Course Overview</h2>
            
            <div class="course-info">
                <h3>Welcome to Example Renewable Energy Self Paced Course!</h3>
                <p>This comprehensive course covers four major renewable energy technologies with interactive simulations, real-world examples, and practical calculations. Each module builds upon previous knowledge to give you a complete understanding of clean energy systems.</p>
                <p><strong>🤖 AI-Enhanced Learning:</strong> This course demonstrates how artificial intelligence can accelerate renewable energy education through simulations, calculations, role-playing scenarios, and personalized learning experiences.</p>
            </div>

            <div class="module-grid">
                <div class="module-card" onclick="showModule('tidal')">
                    <div class="module-icon">🌊</div>
                    <h3>Tidal Energy</h3>
                    <p>Learn how moon and sun gravitational forces create predictable tidal energy. Includes interactive physics simulation and AI tutoring scenarios.</p>
                    <div class="completion-status status-not-started">Not Started</div>
                </div>

                <div class="module-card" onclick="showModule('wind')">
                    <div class="module-icon">💨</div>
                    <h3>Wind Power</h3>
                    <p>Explore wind turbine technology, wind patterns, and large-scale wind farm development with AI optimization tools.</p>
                    <div class="completion-status status-not-started">Coming Soon</div>
                </div>

                <div class="module-card" onclick="showModule('solar')">
                    <div class="module-icon">☀️</div>
                    <h3>Solar Energy</h3>
                    <p>Understand photovoltaic technology, solar thermal systems, and energy storage solutions with AI design assistance.</p>
                    <div class="completion-status status-not-started">Coming Soon</div>
                </div>

                <div class="module-card" onclick="showModule('hydro')">
                    <div class="module-icon">⚡</div>
                    <h3>Hydroelectric Power</h3>
                    <p>Discover how flowing water generates electricity from micro-hydro to massive dam systems with AI impact analysis.</p>
                    <div class="completion-status status-not-started">Coming Soon</div>
                </div>

                <div class="module-card" onclick="showModule('ai-tools')">
                    <div class="module-icon">🤖</div>
                    <h3>AI-Powered Energy Tools</h3>
                    <p>Learn to use artificial intelligence for energy system design, optimization, and decision-making in professional contexts.</p>
                    <div class="completion-status status-not-started">Not Started</div>
                </div>
            </div>

            <div class="highlight-box">
                <h3>🎯 Learning Objectives</h3>
                <p>By completing this course, you will understand the physics, technology, economics, and environmental impact of major renewable energy systems. You'll also learn to use AI as a powerful tool for engineering analysis and professional development.</p>
            </div>

            <div class="course-info">
                <h3>📋 Course Features</h3>
                <ul style="text-align: left; display: inline-block;">
                    <li>🎮 Interactive simulations and calculators</li>
                    <li>📊 Real-world case studies and data</li>
                    <li>🧮 Hands-on energy calculations</li>
                    <li>✅ Knowledge assessments</li>
                    <li>📱 Works completely offline</li>
                    <li>💾 Automatic progress saving</li>
                    <li>🏆 Completion certificates</li>
                    <li>🤖 AI-powered learning activities</li>
                    <li>💬 AI role-playing scenarios</li>
                    <li>🔮 AI-assisted system design</li>
                </ul>
            </div>
        </div>

        <!-- Tidal Energy Module -->
        <div id="tidal-module" class="course-module">
            <h2 class="module-title">🌊 Tidal Energy Systems</h2>
            
            <div class="simulation-container">
                <h3>Interactive Tidal Force Simulation</h3>
                <p>Watch how the Moon's gravity creates two tidal bulges on Earth, leading to predictable energy cycles:</p>
                <canvas id="tidalCanvas" width="600" height="400"></canvas>
                <div class="demo-controls">
                    <button class="demo-button" id="tidalPlay">▶️ Play</button>
                    <button class="demo-button" id="tidalReset">🔄 Reset</button>
                    <button class="demo-button" id="tidalToggle">🔬 Detail</button>
                    <input type="range" id="tidalSpeed" min="0.1" max="3" value="1" step="0.1" style="margin: 0 10px;">
                    <span id="tidalSpeedLabel">1x</span>
                </div>
            </div>

            <div class="content-grid">
                <div class="content-card">
                    <h3>🎯 Gravitational Forces</h3>
                    <p>The Moon's gravity creates tidal forces that vary with the cube of distance (not square like regular gravity). This means tidal effects are much stronger on the near side of Earth.</p>
                    <p><strong>Formula:</strong> Tidal Force ∝ M/r³</p>
                </div>

                <div class="content-card">
                    <h3>🔄 Dual Bulge System</h3>
                    <p>Two water bulges exist simultaneously:</p>
                    <ul>
                        <li><strong>Near bulge:</strong> Moon's direct gravitational pull</li>
                        <li><strong>Far bulge:</strong> Centrifugal force from Earth-Moon orbital motion</li>
                    </ul>
                    <p>This creates approximately two high tides every 24 hours and 50 minutes.</p>
                </div>

                <div class="content-card">
                    <h3>🌍 Earth's Rotation</h3>
                    <p>As Earth rotates beneath the tidal bulges, coastal locations experience:</p>
                    <ul>
                        <li>High tide when aligned with bulges</li>
                        <li>Low tide when perpendicular to bulges</li>
                        <li>Tidal range varies by geographic location</li>
                    </ul>
                </div>

                <div class="content-card">
                    <h3>☀️ Solar Influence</h3>
                    <p>The Sun also creates tidal forces, though weaker than the Moon's:</p>
                    <ul>
                        <li><strong>Spring tides:</strong> Sun and Moon aligned (higher range)</li>
                        <li><strong>Neap tides:</strong> Sun and Moon at 90° (lower range)</li>
                        <li>Occurs roughly every 14 days</li>
                    </ul>
                </div>
            </div>

            <div class="highlight-box ai-highlight">
                <h3>🤖 AI Learning Activity: Tidal Physics Tutor</h3>
                <p>Practice explaining tidal physics concepts by role-playing with an AI tutor. Try these scenarios:</p>
                <div style="text-align: left; margin: 15px 0;">
                    <p><strong>Scenario 1:</strong> "I'm an AI playing a confused student. Explain why we get TWO high tides per day, not just one."</p>
                    <p><strong>Scenario 2:</strong> "I'm an AI engineering manager. Convince me that tidal energy is more predictable than wind power."</p>
                    <p><strong>Scenario 3:</strong> "I'm an AI representing local fishermen. Address my concerns about tidal energy installations."</p>
                </div>
                <button class="demo-button" onclick="showAIPrompts('tidal-physics')">📝 View AI Conversation Starters</button>
            </div>

            <div class="highlight-box">
                <h3>💡 Energy Harvesting Principle</h3>
                <p>Tidal energy systems capture the kinetic energy of moving water during tidal flow. The predictable nature of tides makes this a reliable renewable energy source, unlike wind or solar power.</p>
            </div>
        </div>

        <!-- AI Tools Module -->
        <div id="ai-tools-module" class="course-module">
            <h2 class="module-title">🤖 AI-Powered Energy Tools</h2>
            
            <div class="content-grid">
                <div class="content-card">
                    <h3>🎯 Learning Enhancement</h3>
                    <p>AI can accelerate your renewable energy education through:</p>
                    <ul>
                        <li>Personalized tutoring and explanations</li>
                        <li>Complex system simulations</li>
                        <li>Real-time calculations and optimization</li>
                        <li>Role-playing scenarios with industry experts</li>
                    </ul>
                </div>

                <div class="content-card">
                    <h3>🔬 Industry Applications</h3>
                    <p>Real-world AI applications in renewable energy:</p>
                    <ul>
                        <li><strong>Predictive maintenance:</strong> Wind turbine optimization</li>
                        <li><strong>Grid management:</strong> Smart energy distribution</li>
                        <li><strong>Resource forecasting:</strong> Weather and generation prediction</li>
                        <li><strong>Design optimization:</strong> Site selection and system sizing</li>
                    </ul>
                </div>

                <div class="content-card">
                    <h3>💡 Educational Benefits</h3>
                    <p>Why AI enhances technical learning:</p>
                    <ul>
                        <li><strong>Immediate feedback:</strong> Real-time error correction</li>
                        <li><strong>Adaptive difficulty:</strong> Matches your learning pace</li>
                        <li><strong>Scenario practice:</strong> Safe environment for experimentation</li>
                        <li><strong>Expert simulation:</strong> Access to diverse perspectives</li>
                    </ul>
                </div>

                <div class="content-card">
                    <h3>🛠️ AI Tools for Engineers</h3>
                    <p>Essential AI tools for renewable energy work:</p>
                    <ul>
                        <li><strong>ChatGPT/Claude:</strong> Technical explanations and calculations</li>
                        <li><strong>MATLAB AI:</strong> System modeling and optimization</li>
                        <li><strong>Python libraries:</strong> TensorFlow, scikit-learn for analysis</li>
                        <li><strong>Simulation platforms:</strong> AI-enhanced HOMER, SAM</li>
                    </ul>
                </div>
            </div>

            <div class="highlight-box ai-highlight">
                <h3>🎮 AI Simulation Example</h3>
                <p>Use this prompt with ChatGPT or Claude for tidal energy simulation:</p>
                <div class="prompt-box">
                    "I need you to simulate a tidal energy installation. Given these parameters:<br>
                    - Location: Bay of Fundy (tidal range: 11 meters)<br>
                    - Basin area: 50 square kilometers<br>
                    - Technology: Tidal barrage with 30% efficiency<br><br>
                    Calculate daily energy output, compare to a coal plant, and identify 3 major engineering challenges. Then role-play as a project engineer and explain the environmental impact assessment process."
                </div>
                <button class="demo-button" onclick="copyToClipboard('tidal-sim')">📋 Copy Prompt</button>
            </div>

            <div class="highlight-box">
                <h3>🎓 Learning Approach</h3>
                <p>Throughout this course, you'll practice using AI as a learning partner. Each module includes AI activities that demonstrate how artificial intelligence can accelerate your mastery of renewable energy concepts.</p>
            </div>
        </div>

        <!-- Wind Power Module Placeholder -->
        <div id="wind-module" class="course-module">
            <h2 class="module-title">💨 Wind Power Systems</h2>
            <div class="highlight-box">
                <h3>🚧 Coming Soon!</h3>
                <p>This module is under development and will include:</p>
                <ul style="text-align: left; display: inline-block;">
                    <li>Wind resource assessment and mapping</li>
                    <li>Turbine technology and design principles</li>
                    <li>Wind farm layout optimization</li>
                    <li>Grid integration challenges</li>
                    <li>🤖 AI-powered wind farm design tools</li>
                </ul>
            </div>
        </div>

        <!-- Solar Energy Module Placeholder -->
        <div id="solar-module" class="course-module">
            <h2 class="module-title">☀️ Solar Energy Systems</h2>
            <div class="highlight-box">
                <h3>🚧 Coming Soon!</h3>
                <p>This module is under development and will include:</p>
                <ul style="text-align: left; display: inline-block;">
                    <li>Photovoltaic cell technology</li>
                    <li>Solar thermal systems</li>
                    <li>Energy storage integration</li>
                    <li>System sizing and economics</li>
                    <li>🤖 AI-assisted solar system design</li>
                </ul>
            </div>
        </div>

        <!-- Hydroelectric Module Placeholder -->
        <div id="hydro-module" class="course-module">
            <h2 class="module-title">⚡ Hydroelectric Power</h2>
            <div class="highlight-box">
                <h3>🚧 Coming Soon!</h3>
                <p>This module is under development and will include:</p>
                <ul style="text-align: left; display: inline-block;">
                    <li>Hydro system types and applications</li>
                    <li>Environmental impact assessment</li>
                    <li>Micro-hydro for rural communities</li>
                    <li>Large-scale dam engineering</li>
                    <li>🤖 AI environmental impact analysis</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let embeddedSim;
        let currentModule = 'overview';

        // Module navigation
        function showModule(moduleId) {
            // Hide all modules
            document.querySelectorAll('.course-module').forEach(module => {
                module.classList.remove('active');
            });
            
            // Remove current class from all progress modules
            document.querySelectorAll('.progress-module').forEach(module => {
                module.classList.remove('current');
            });
            
            // Show selected module
            const targetModule = document.getElementById(moduleId + '-module');
            if (targetModule) {
                targetModule.classList.add('active');
                currentModule = moduleId;
            }
            
            // Update progress indicator
            const progressModule = document.querySelector(`[onclick="showModule('${moduleId}')"]`);
            if (progressModule) {
                progressModule.classList.add('current');
            }
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // AI Functions
        function showAIPrompts(type) {
            const prompts = {
                'tidal-physics': `
                    <h4>🤖 AI Conversation Starters for Tidal Physics:</h4>
                    <div style="background: rgba(0,0,0,0.4); padding: 15px; border-radius: 8px; margin: 10px 0; text-align: left;">
                        <p><strong>Basic Explanation Practice:</strong></p>
                        <p>"Act as a curious 12-year-old. Ask me why the ocean has tides, and I'll explain it step by step. Challenge my explanations if they're unclear."</p>
                        <br>
                        <p><strong>Technical Discussion:</strong></p>
                        <p>"You're an AI marine engineer. I'll explain tidal force physics, and you critique my explanation from an engineering perspective."</p>
                        <br>
                        <p><strong>Stakeholder Scenario:</strong></p>
                        <p>"Role-play as a concerned coastal resident. I'll explain how tidal energy works and address your questions about environmental impact."</p>
                    </div>
                `
            };
            
            // Create modal
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.8); z-index: 1000; display: flex;
                align-items: center; justify-content: center; padding: 20px;
            `;
            
            modal.innerHTML = `
                <div style="background: linear-gradient(135deg, #0c2340 0%, #1e4a72 50%, #2d6da3 100%); 
                     padding: 30px; border-radius: 15px; max-width: 600px; width: 100%;
                     border: 2px solid rgba(135, 206, 235, 0.3); color: white;">
                    ${prompts[type]}
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="demo-button" onclick="this.closest('div').parentElement.remove()">
                            ✖️ Close
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        function copyToClipboard(promptType) {
            const prompts = {
                'tidal-sim': 'I need you to simulate a tidal energy installation. Given these parameters:\n- Location: Bay of Fundy (tidal range: 11 meters)\n- Basin area: 50 square kilometers\n- Technology: Tidal barrage with 30% efficiency\n\nCalculate daily energy output, compare to a coal plant, and identify 3 major engineering challenges. Then role-play as a project engineer and explain the environmental impact assessment process.'
            };
            
            const text = prompts[promptType];
            if (navigator.clipboard) {
                navigator.clipboard.writeText(text).then(() => {
                    const button = event.target;
                    const originalText = button.textContent;
                    button.textContent = '✅ Copied!';
                    button.style.background = 'linear-gradient(45deg, #28a745, #20c997)';
                    
                    setTimeout(() => {
                        button.textContent = originalText;
                        button.style.background = 'linear-gradient(45deg, #4a90e2, #87ceeb)';
                    }, 2000);
                });
            } else {
                alert('Prompt text:\n\n' + text);
            }
        }

        // Tidal Simulation Class
        class TidalSimulation {
            constructor() {
                this.canvas = document.getElementById('tidalCanvas');
                if (!this.canvas) return;
                
                this.ctx = this.canvas.getContext('2d');
                this.isPlaying = false;
                this.animationSpeed = 1;
                this.time = 0;
                this.earthRotation = 0;
                this.moonAngle = 0;
                this.showDetail = false;
                
                // Simulation parameters
                this.earthRadius = 50;
                this.moonDistance = 150;
                this.moonRadius = 12;
                this.tidalBulgeHeight = 15;
                
                this.setupEventListeners();
                this.render();
            }

            setupEventListeners() {
                const playBtn = document.getElementById('tidalPlay');
                const resetBtn = document.getElementById('tidalReset');
                const toggleBtn = document.getElementById('tidalToggle');
                const speedSlider = document.getElementById('tidalSpeed');
                
                if (playBtn) {
                    playBtn.addEventListener('click', () => this.togglePlayPause());
                }
                if (resetBtn) {
                    resetBtn.addEventListener('click', () => this.reset());
                }
                if (toggleBtn) {
                    toggleBtn.addEventListener('click', () => this.toggleView());
                }
                if (speedSlider) {
                    speedSlider.addEventListener('input', (e) => {
                        this.animationSpeed = parseFloat(e.target.value);
                        const label = document.getElementById('tidalSpeedLabel');
                        if (label) label.textContent = `${this.animationSpeed}x`;
                    });
                }
            }

            togglePlayPause() {
                this.isPlaying = !this.isPlaying;
                const btn = document.getElementById('tidalPlay');
                if (btn) {
                    if (this.isPlaying) {
                        btn.textContent = '⏸️ Pause';
                        this.animate();
                    } else {
                        btn.textContent = '▶️ Play';
                    }
                }
            }

            reset() {
                this.time = 0;
                this.earthRotation = 0;
                this.moonAngle = 0;
                this.render();
            }

            toggleView() {
                this.showDetail = !this.showDetail;
                const btn = document.getElementById('tidalToggle');
                if (btn) {
                    btn.textContent = this.showDetail ? '🌍 Simple' : '🔬 Detail';
                }
                this.render();
            }

            animate() {
                if (!this.isPlaying) return;
                
                this.time += 0.02 * this.animationSpeed;
                this.earthRotation += 0.1 * this.animationSpeed;
                this.moonAngle += 0.004 * this.animationSpeed;
                
                this.render();
                
                requestAnimationFrame(() => this.animate());
            }

            render() {
                if (!this.canvas) return;
                
                const { width, height } = this.canvas;
                this.ctx.clearRect(0, 0, width, height);
                
                const centerX = width / 2;
                const centerY = height / 2;
                
                this.ctx.save();
                this.ctx.translate(centerX, centerY);
                
                // Draw orbital path
                this.ctx.strokeStyle = 'rgba(135, 206, 235, 0.3)';
                this.ctx.lineWidth = 2;
                this.ctx.setLineDash([3, 3]);
                this.ctx.beginPath();
                this.ctx.arc(0, 0, this.moonDistance, 0, Math.PI * 2);
                this.ctx.stroke();
                this.ctx.setLineDash([]);

                // Calculate moon position
                const moonX = Math.cos(this.moonAngle) * this.moonDistance;
                const moonY = Math.sin(this.moonAngle) * this.moonDistance;

                // Draw Earth
                this.drawEarth(moonX, moonY);
                
                // Draw Moon
                this.drawMoon(moonX, moonY);
                
                // Draw force lines if in detail view
                if (this.showDetail) {
                    this.drawForceLines(moonX, moonY);
                }
                
                // Draw labels
                this.drawLabels(moonX, moonY);
                
                this.ctx.restore();
            }

            drawEarth(moonX, moonY) {
                const angleToMoon = Math.atan2(moonY, moonX);
                
                // Draw Earth core
                this.ctx.fillStyle = '#4a90e2';
                this.ctx.beginPath();
                this.ctx.arc(0, 0, this.earthRadius - 5, 0, Math.PI * 2);
                this.ctx.fill();
                
                // Draw continents
                this.ctx.fillStyle = '#2d5a0d';
                for (let i = 0; i < 4; i++) {
                    const angle = (i * Math.PI / 2) + this.earthRotation;
                    const x = Math.cos(angle) * (this.earthRadius - 8);
                    const y = Math.sin(angle) * (this.earthRadius - 8);
                    this.ctx.beginPath();
                    this.ctx.arc(x, y, 4, 0, Math.PI * 2);
                    this.ctx.fill();
                }
                
                // Draw tidal bulges
                const bulge1X = Math.cos(angleToMoon) * (this.earthRadius + this.tidalBulgeHeight);
                const bulge1Y = Math.sin(angleToMoon) * (this.earthRadius + this.tidalBulgeHeight);
                const bulge2X = Math.cos(angleToMoon + Math.PI) * (this.earthRadius + this.tidalBulgeHeight);
                const bulge2Y = Math.sin(angleToMoon + Math.PI) * (this.earthRadius + this.tidalBulgeHeight);
                
                this.ctx.fillStyle = 'rgba(135, 206, 235, 0.7)';
                this.ctx.beginPath();
                this.ctx.arc(bulge1X * 0.6, bulge1Y * 0.6, 10, 0, Math.PI * 2);
                this.ctx.fill();
                this.ctx.beginPath();
                this.ctx.arc(bulge2X * 0.6, bulge2Y * 0.6, 10, 0, Math.PI * 2);
                this.ctx.fill();
                
                // Draw Earth's water layer
                this.ctx.strokeStyle = 'rgba(135, 206, 235, 0.5)';
                this.ctx.lineWidth = 2;
                this.ctx.beginPath();
                this.ctx.arc(0, 0, this.earthRadius, 0, Math.PI * 2);
                this.ctx.stroke();
            }

            drawMoon(x, y) {
                // Moon glow
                const gradient = this.ctx.createRadialGradient(x, y, 0, x, y, this.moonRadius + 8);
                gradient.addColorStop(0, 'rgba(255, 255, 255, 0.6)');
                gradient.addColorStop(1, 'rgba(255, 255, 255, 0)');
                this.ctx.fillStyle = gradient;
                this.ctx.beginPath();
                this.ctx.arc(x, y, this.moonRadius + 8, 0, Math.PI * 2);
                this.ctx.fill();
                
                // Moon surface
                this.ctx.fillStyle = '#e8e8e8';
                this.ctx.beginPath();
                this.ctx.arc(x, y, this.moonRadius, 0, Math.PI * 2);
                this.ctx.fill();
                
                // Moon craters
                this.ctx.fillStyle = '#d0d0d0';
                this.ctx.beginPath();
                this.ctx.arc(x - 3, y - 2, 2, 0, Math.PI * 2);
                this.ctx.fill();
                this.ctx.beginPath();
                this.ctx.arc(x + 2, y + 2, 1.5, 0, Math.PI * 2);
                this.ctx.fill();
            }

            drawForceLines(moonX, moonY) {
                this.ctx.strokeStyle = 'rgba(255, 255, 100, 0.4)';
                this.ctx.lineWidth = 1;
                this.ctx.setLineDash([2, 2]);
                
                for (let i = 0; i < 6; i++) {
                    const angle = (i * Math.PI / 3);
                    const earthX = Math.cos(angle) * this.earthRadius;
                    const earthY = Math.sin(angle) * this.earthRadius;
                    
                    this.ctx.beginPath();
                    this.ctx.moveTo(moonX, moonY);
                    this.ctx.lineTo(earthX, earthY);
                    this.ctx.stroke();
                }
                this.ctx.setLineDash([]);
            }

            drawLabels(moonX, moonY) {
                this.ctx.fillStyle = 'white';
                this.ctx.font = 'bold 12px sans-serif';
                this.ctx.textAlign = 'center';
                
                // Earth label
                this.ctx.fillText('🌍 Earth', 0, -this.earthRadius - 20);
                
                // Moon label
                this.ctx.fillText('🌙 Moon', moonX, moonY - 20);
                
                // Tide labels
                this.ctx.font = '10px sans-serif';
                this.ctx.fillStyle = '#87ceeb';
                const tideAngle = Math.atan2(moonY, moonX);
                const highTideX = Math.cos(tideAngle) * (this.earthRadius + 25);
                const highTideY = Math.sin(tideAngle) * (this.earthRadius + 25);
                this.ctx.fillText('High Tide', highTideX, highTideY);
                
                const lowTideX = Math.cos(tideAngle + Math.PI/2) * (this.earthRadius + 25);
                const lowTideY = Math.sin(tideAngle + Math.PI/2) * (this.earthRadius + 25);
                this.ctx.fillText('Low Tide', lowTideX, lowTideY);
            }
        }

        // Initialize everything when page loads
        window.addEventListener('load', function() {
            // Initialize tidal simulation
            embeddedSim = new TidalSimulation();
        });
    </script>
</body>
</html>
